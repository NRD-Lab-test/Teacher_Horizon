(this.webpackJsonphorizon_task=this.webpackJsonphorizon_task||[]).push([[0],{31:function(e,t,i){"use strict";i.r(t);var n=i(17),s=i.n(n),o=(i(20),i(10)),r=i(8),a=i(11),c=i(3),l=i(4),h=i(1),u=i(7),d=i(6),v=i(5),p=i.n(v),b=i(2),m=i.n(b),j=i(0),x=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){return Object(c.a)(this,i),t.call(this,e)}return Object(l.a)(i,[{key:"render",value:function(){return Object(j.jsx)("div",{style:{border:"solid black",borderWidth:".5vh",margin:".5vh",backgroundColor:this.props.backgroundColor?this.props.backgroundColor:"white",width:"5vh",height:"5vh",alignItems:"center",justifyContent:"center",display:"flex",fontSize:"4.5vh",color:"black"},children:this.props.heldValue})}}]),i}(m.a.Component),g=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).delayedNumber=n.delayedNumber.bind(Object(h.a)(n)),n.state={index:n.props.index-1},e.delayNumberReveal&&n.delayedNumber(n.props.timeDelay),n}return Object(l.a)(i,[{key:"delayedNumber",value:function(e){var t=this;setTimeout((function(){t.setState({index:t.state.index+1})}),e)}},{key:"render",value:function(){for(var e=this.state.index+1,t=[],i=0;i<this.props.gameLength;i++){var n={};i<e&&(n.heldValue=this.props.values[i]),i===e&&this.props.valid&&(n.backgroundColor="lawngreen"),t.push(Object(j.jsx)(x,{backgroundColor:n.backgroundColor,heldValue:n.heldValue},i))}return Object(j.jsx)("div",{style:{border:"solid ".concat(this.props.machineColor?this.props.machineColor:"black"," .8vh")},children:t})}}]),i}(m.a.Component),y=(m.a.Component,i(9),function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).delayAnimation=n.delayAnimation.bind(Object(h.a)(n)),e.delayAnimation&&n.delayAnimation(n.props.timeDelay),n.state={animate:n.props.animate},n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"delayAnimation",value:function(e){var t=this;setTimeout((function(){t.setState({animate:!0})}),e)}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"lever_ball",style:{width:"4vh",height:"4vh",left:"-1.6vh",borderRadius:"50%",backgroundColor:this.props.backgroundColor,animation:this.state.animate?"ball_clink":"",animationDuration:this.state.animate?".5s":""}}),Object(j.jsx)("div",{className:"lever_arm",style:{width:".8vh",height:"10vh",top:"26%",backgroundColor:this.props.backgroundColor,animation:this.state.animate?"arm_clink":"",animationDuration:this.state.animate?".5s":""}}),Object(j.jsx)("div",{style:{position:"relative",width:"5vh",height:".8vh",backgroundColor:this.props.backgroundColor,top:"25%",left:"0px"}})]})}}]),i}(m.a.Component)),O=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;Object(c.a)(this,i),(n=t.call(this,e)).subtrial=-1,n.key_map=function(e){for(var t={},i=0;i<e.length;i++)t[String(e[i].keyBind)]=i;return t}(n.props.machineVars),n.column_map=function(e){for(var t={},i=0;i<e.length;i++)t[String(i)]={mu:e[i].mu,sd:e[i].sd,valid:!1,discovered:[],machineColor:e[i].color,description:e[i].description};return t}(n.props.machineVars),n.key_press=n.key_press.bind(Object(h.a)(n)),n.advance_subtrial=n.advance_subtrial.bind(Object(h.a)(n)),n.process_choice=n.process_choice.bind(Object(h.a)(n)),n.nextTrial=n.nextTrial.bind(Object(h.a)(n)),n.time=Date.now(),n.data={meta_data:n.props,trial_data:[]},n.state={},n.advance_subtrial();for(var s=0;s<n.props.machineVars.length;s++)n.state[String(s)]={valid:n.column_map[String(s)].valid,discovered:[],description:n.column_map[String(s).description]};return n.state.total_points=n.props.total_points,n.state.round_points=0,n.nextPress=!0,n.keyup=!0,n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keyup",(function(){return e.keyup=!0})),document.addEventListener("keydown",this.key_press),this.trial_start_time=Date.now()}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("keyup",(function(){return e.keyup=!0})),document.removeEventListener("keydown",this.key_press)}},{key:"componentDidUpdate",value:function(){this.trial_start_time=Date.now()}},{key:"key_press",value:function(){var e=Object(r.a)(p.a.mark((function e(t){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.nextPress&&this.keyup&&(i=Date.now(),this.subtrial<this.props.gameLength&&String(t.key)in this.key_map&&this.column_map[String(this.key_map[t.key])].valid&&this.process_choice(String(this.key_map[String(t.key)]),i));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"process_choice",value:function(e,t){var i=this;this.advance_subtrial();for(var n={},s=null,o=0;o<this.props.machineVars.length;o++)String(o)===e?(s=f(this.column_map,e),this.column_map[String(o)].discovered.push(s)):this.column_map[String(o)].discovered.push("xx"),n[String(o)]={valid:this.column_map[String(o)].valid,discovered:this.column_map[String(o)].discovered};n.last_choice=e,this.subtrial>this.props.force.length&&(n.total_points=this.state.total_points+s,n.round_points=this.state.round_points+s),this.data.trial_data.push({choice:e,value:s,reaction_time:t-this.trial_start_time}),this.setState(n),this.subtrial>=this.props.gameLength&&setTimeout(this.nextTrial,1e3),this.nextPress=!1,this.keyup=!1,setTimeout((function(){return i.nextPress=!0}),200)}},{key:"nextTrial",value:function(){this.props.nextTrial(this.data,this.state.round_points)}},{key:"advance_subtrial",value:function(){if(this.subtrial+=1,this.subtrial<this.props.force.length)for(var e=0;e<this.props.machineVars.length;e++)this.props.force[this.subtrial].includes(e)?this.column_map[String(e)].valid=!0:this.column_map[String(e)].valid=!1;else for(var t=0;t<this.props.machineVars.length;t++)this.column_map[String(t)].valid=!0}},{key:"render",value:function(){for(var e=[],t=null,i=!1,n=0;n<this.props.machineVars.length;n++)t=this.state[String(n)].discovered.length,i=String(n)===this.state.last_choice,0==n?e.push(Object(j.jsxs)("div",{style:{left:"calc(50vw + ".concat(30*n-25,"vh)"),position:"absolute",top:"10vh"},className:"column",children:[Object(j.jsx)("h2",{style:{position:"relative",left:"2vh",fontSize:"4vh"},children:this.column_map[String(n)].description}),Object(j.jsx)("button",{onClick:this.button1,style:{backgroundColor:"transparent",outline:"none",border:"none"},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(y,{animate:i,backgroundColor:this.column_map[String(n)].machineColor},"Lever "+String(this.props.trial)+";"+String(this.subtrial)),Object(j.jsx)(g,{index:t,valid:this.state[String(n)].valid,values:this.state[String(n)].discovered,gameLength:this.props.gameLength,machineColor:this.column_map[String(n)].machineColor},"Game Machine "+String(this.props.trial)+";"+String(this.subtrial))]})})]},n)):e.push(Object(j.jsxs)("div",{style:{left:"calc(50vw + ".concat(30*n-25,"vh)"),position:"absolute",top:"10vh"},className:"column",children:[Object(j.jsx)("h2",{style:{position:"relative",left:"2vh",fontSize:"4vh"},children:this.column_map[String(n)].description}),Object(j.jsx)("button",{onClick:this.button2,style:{backgroundColor:"transparent",outline:"none",border:"none"},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(y,{animate:i,backgroundColor:this.column_map[String(n)].machineColor},"Lever "+String(this.props.trial)+";"+String(this.subtrial)),Object(j.jsx)(g,{index:t,valid:this.state[String(n)].valid,values:this.state[String(n)].discovered,gameLength:this.props.gameLength,machineColor:this.column_map[String(n)].machineColor},"Game Machine "+String(this.props.trial)+";"+String(this.subtrial))]})})]},n));return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{textAlign:"center",width:"100%"},children:this.props.trialDescription}),Object(j.jsx)("div",{className:"row",children:e})]})}}]),i}(m.a.Component);function f(e,t){var i=function(){for(var e=0,t=0;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}()*e[t].sd+e[t].mu;return i=Math.max(Math.floor(i),1),i=Math.min(i,99)}var w=O;function I(e,t){var i=function(){for(var e=0,t=0;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}()*e[t].sd+e[t].mu;return i=Math.max(Math.floor(i),1),i=Math.min(i,99)}var k=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;Object(c.a)(this,i),(n=t.call(this,e)).subtrial=-1,n.key_map=function(e){for(var t={},i=0;i<e.length;i++)t[String(e[i].keyBind)]=i;return t}(n.props.machineVars),n.column_map=function(e){for(var t={},i=0;i<e.length;i++)t[String(i)]={mu:e[i].mu,sd:e[i].sd,valid:!1,discovered:[],machineColor:e[i].color,description:e[i].description};return t}(n.props.machineVars),n.advance_subtrial=n.advance_subtrial.bind(Object(h.a)(n)),n.process_choice=n.process_choice.bind(Object(h.a)(n)),n.button1=n.button1.bind(Object(h.a)(n)),n.button2=n.button2.bind(Object(h.a)(n)),n.buttonPress=n.buttonPress.bind(Object(h.a)(n)),n.nextTrial=n.nextTrial.bind(Object(h.a)(n)),n.time=Date.now(),n.data={meta_data:n.props,trial_data:[]},n.state={},n.advance_subtrial();for(var s=0;s<n.props.machineVars.length;s++)n.state[String(s)]={valid:n.column_map[String(s)].valid,discovered:[],description:n.column_map[String(s).description]};return n.state.total_points=n.props.total_points,n.state.round_points=0,n.nextPress=!0,n.keyup=!0,n}return Object(l.a)(i,[{key:"button1",value:function(e){this.buttonPress("0")}},{key:"button2",value:function(e){this.buttonPress("1")}},{key:"buttonPress",value:function(e){if(this.subtrial<this.props.gameLength){var t=new Date;this.column_map[e].valid&&this.process_choice(e,t)}}},{key:"process_choice",value:function(e,t){var i=this;this.advance_subtrial();for(var n={},s=null,o=0;o<this.props.machineVars.length;o++)String(o)===e?(s=I(this.column_map,e),this.column_map[String(o)].discovered.push(s)):this.column_map[String(o)].discovered.push("xx"),n[String(o)]={valid:this.column_map[String(o)].valid,discovered:this.column_map[String(o)].discovered};n.last_choice=e,this.subtrial>this.props.force.length&&(n.total_points=this.state.total_points+s,n.round_points=this.state.round_points+s),this.data.trial_data.push({choice:e,value:s,reaction_time:t-this.trial_start_time}),this.setState(n),this.subtrial>=this.props.gameLength&&setTimeout(this.nextTrial,1e3),this.nextPress=!1,this.keyup=!1,setTimeout((function(){return i.nextPress=!0}),200)}},{key:"nextTrial",value:function(){this.props.nextTrial(this.data,this.state.round_points)}},{key:"advance_subtrial",value:function(){if(this.subtrial+=1,this.subtrial<this.props.force.length)for(var e=0;e<this.props.machineVars.length;e++)this.props.force[this.subtrial].includes(e)?this.column_map[String(e)].valid=!0:this.column_map[String(e)].valid=!1;else for(var t=0;t<this.props.machineVars.length;t++)this.column_map[String(t)].valid=!0}},{key:"render",value:function(){for(var e=[],t=null,i=!1,n=0;n<this.props.machineVars.length;n++)t=this.state[String(n)].discovered.length,i=String(n)===this.state.last_choice,0==n?e.push(Object(j.jsxs)("div",{style:{left:"calc(50vw + ".concat(30*n-25,"vh)"),position:"absolute",top:"15vh"},className:"column",children:[Object(j.jsx)("h2",{style:{position:"relative",left:"2vh",fontSize:"4vh"},children:this.column_map[String(n)].description}),Object(j.jsx)("button",{onClick:this.button1,style:{backgroundColor:"transparent",outline:"none",border:"none"},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(y,{animate:i,backgroundColor:this.column_map[String(n)].machineColor},"Lever "+String(this.props.trial)+";"+String(this.subtrial)),Object(j.jsx)(g,{index:t,valid:this.state[String(n)].valid,values:this.state[String(n)].discovered,gameLength:this.props.gameLength,machineColor:this.column_map[String(n)].machineColor},"Game Machine "+String(this.props.trial)+";"+String(this.subtrial))]})})]},n)):e.push(Object(j.jsxs)("div",{style:{left:"calc(50vw + ".concat(30*n-25,"vh)"),position:"absolute",top:"15vh"},className:"column",children:[Object(j.jsx)("h2",{style:{position:"relative",left:"2vh",fontSize:"4vh"},children:this.column_map[String(n)].description}),Object(j.jsx)("button",{onClick:this.button2,style:{backgroundColor:"transparent",outline:"none",border:"none"},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(y,{animate:i,backgroundColor:this.column_map[String(n)].machineColor},"Lever "+String(this.props.trial)+";"+String(this.subtrial)),Object(j.jsx)(g,{index:t,valid:this.state[String(n)].valid,values:this.state[String(n)].discovered,gameLength:this.props.gameLength,machineColor:this.column_map[String(n)].machineColor},"Game Machine "+String(this.props.trial)+";"+String(this.subtrial))]})})]},n));return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{textAlign:"center",width:"100vw",fontSize:"3.5vh"},children:this.props.trialDescription}),Object(j.jsx)("div",{className:"row",children:e})]})}}]),i}(m.a.Component),S=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){return Object(c.a)(this,i),t.call(this,e)}return Object(l.a)(i,[{key:"render",value:function(){return Object(j.jsxs)("div",{style:{position:"absolute",width:"38vh",height:"8vh",border:"solid ".concat(this.props.borderColor," .5vh"),fontSize:"3.5vh",textAlign:"center",top:"3.5vh",left:"calc(50vw - 17.5vh)"},children:[this.props.description+":",Object(j.jsxs)("div",{style:{display:"flex",flex:"row",justifyContent:"center"},children:[Object(j.jsx)("div",{style:{color:"black"},children:this.props.points+"$"}),Object(j.jsx)("div",{children:"/"}),Object(j.jsx)("div",{children:this.props.totalPoints+"$"})]})]})}}]),i}(m.a.Component),C=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).nextInstruction=n.nextInstruction.bind(Object(h.a)(n)),n.key_press=n.key_press.bind(Object(h.a)(n)),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.props.mobile||document.addEventListener("keydown",this.key_press)}},{key:"componentWillUnmount",value:function(){this.props.mobile||document.removeEventListener("keydown",this.key_press)}},{key:"key_press",value:function(e){if(console.log(e.key),"Space"===this.props.nextInstructionKey)var t=" ";else t=this.props.nextInstructionKey;e.key===t&&this.nextInstruction(),e.key===this.props.previousInstructionKey&&this.previousInstruction()}},{key:"nextInstruction",value:function(){this.props.nextInstruction()}},{key:"previousInstruction",value:function(){console.log(this.props.previousJump),this.props.previousInstruction(this.props.previousJump?this.props.previousJump:1)}},{key:"render",value:function(){for(var e=[],t=[],i=0;i<this.props.divs.length;i++)e.push(this.props.divs[i]);return this.props.mobile?(null!=this.props.previousInstructionKey&&t.push(Object(j.jsx)("button",{style:{width:"50px",height:"100%",left:"0px",position:"absolute",top:"0px"},children:"<"})),null!=this.props.nextInstructionKey&&t.push(Object(j.jsx)("button",{style:{width:"50px",height:"100%",left:"calc(100% - 50px)",position:"absolute",top:"0px"},children:">"})),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{position:"absolute",textAlign:"center",width:"100%"},children:e}),t]})):(this.props.previousInstructionKey&&t.push(Object(j.jsx)("div",{style:{width:"30vh",height:"5vh",border:"solid black .8vh",textAlign:"center",fontSize:"3vh",margin:"1vh"},children:"Press ".concat(this.props.previousInstructionKey," to go back")},"previous "+String(i))),this.props.nextInstructionKey&&t.push(Object(j.jsx)("div",{style:{width:"30vh",height:"5vh",border:"solid black .8vh",textAlign:"center",fontSize:"3vh",margin:"1vh"},children:"Press ".concat(this.props.nextInstructionKey," to continue")},"next "+String(i))),Object(j.jsxs)("div",{children:[e,Object(j.jsx)("div",{style:{display:"flex",flex:"row",position:"fixed",justifyContent:"space-evenly",bottom:"5%",width:"100%",left:"0vh",top:"90vh"},children:t})]}))}}]),i}(m.a.Component),_=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).requestFullScreen=n.requestFullScreen.bind(Object(h.a)(n)),n}return Object(l.a)(i,[{key:"requestFullScreen",value:function(){var e=this.props.docVar,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;t&&t.call(e),this.props.nextInstruction()}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{border:"solid black 5px",marginLeft:"100px",marginRight:"100px",textAlign:"center"},children:"This experiment is best viewed in full screen, click the button below to go fullscreen and enter the experiment!"}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)("button",{className:"fullscreenbutton",style:{top:"150px"},onClick:this.requestFullScreen,children:"Go Fullscreen"})})]})}}]),i}(m.a.Component),N=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).download=n.download.bind(Object(h.a)(n)),n}return Object(l.a)(i,[{key:"download",value:function(e,t){var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}},{key:"componentDidMount",value:function(){this.props.archive&&this.download("horizon_data.csv",this.props.data)}},{key:"render",value:function(){return Object(j.jsx)("h1",{style:{border:"solid black 5px",marginLeft:"100px",marginRight:"100px",textAlign:"center"},children:"The experiment is over! Thank you for taking part in this part of the experiment!"})}}]),i}(m.a.Component);function L(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),n=[e[i],e[t]];e[t]=n[0],e[i]=n[1]}}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"even",t=["main","main","other","other"],i=["main","main","main","other"],n=["main","other","other","other"];return"even"===e?(L(t),t):"weight_positive"===e?(L(t),i):"weight_negative"===e?(L(t),n):void 0}function A(){for(var e=["even","weight_negative","weight_positive"],t=function(e){for(var t,i=[{}],n=0;n<Object.keys(e).length;n++){for(var s=[],o=0;o<i.length;o++)for(var r=0;r<e[Object.keys(e)[n]].length;r++){var a=(t=i[o],JSON.parse(JSON.stringify(t)));a[Object.keys(e)[n]]=e[Object.keys(e)[n]][r],s.push(a)}i=s}return i}({mu:[40,60],deltaMu:[-30,-20,-12,-8,-4,4,8,12,20,30],sd:[8],mainBandit:[0,1],gameLength:[5,10]}),i=0;i<t.length;i++)t[i].forcedBandit=K(e[Math.floor(3*Math.random())]);return t}var T=function(){var e=function(e){for(var t=[],i=0;i<e.length;i++){var n={machineVars:[],gameLength:null,force:[]},s={},o={};0===e[i].mainBandit?(s.mu=e[i].mu,o.mu=e[i].mu+e[i].deltaMu,n.force=e[i].forcedBandit.map((function(e){return"main"==e?[0]:[1]}))):(s.mu=e[i].mu+e[i].deltaMu,o.mu=e[i].mu,n.force=e[i].forcedBandit.map((function(e){return"main"==e?[1]:[0]}))),s.sd=e[i].sd,o.sd=e[i].sd,s.keyBind="ArrowLeft",o.keyBind="ArrowRight",s.color="red",o.color="blue",s.description="Bandit 1",o.description="Bandit 2",n.gameLength=e[i].gameLength,n.machineVars.push(s),n.machineVars.push(o),n.addedMetaData=e[i],n.trialDescription="Game ".concat(i+1," of ").concat(e.length),t.push(n)}return t}(A());L(e);for(var t=e.length,i=0;i<t;i++)e[i].trialDescription="Game ".concat(i+1," of ").concat(t);return e},D=i(18),R={server:"https://exius.fly.dev",subjectTemplate:{Endpoints:{horizon:{PUT:!0,path:"root/subjectData",PutTypes:["text/plain"],MaxPut:300,MaxPutSize:10485760}},InitiateExpire:"Put",ExpireDelta:1e7}}.server;function z(e,t,i){return M.apply(this,arguments)}function M(){return(M=Object(r.a)(p.a.mark((function e(t,i,n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.init(t,i);case 3:return s=e.sent,e.next=6,s.writeFile(n.endpoint,n.fname,n.data);case 6:return e.abrupt("return",s);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var P=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).keyValue="",n.state={preflightError:!1,preflightInitiated:!1,preflightMessage:""},n.submitPreflight=n.submitPreflight.bind(Object(h.a)(n)),n.getQuery=n.getQuery.bind(Object(h.a)(n)),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this.getQuery();console.log(e),this.id=e.id,this.keyValue=e.key,this.archive=e.archive,this.submitPreflight()}},{key:"submitPreflight",value:function(){var e=Object(r.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.setState({preflightInitiated:!0}),!this.archive){e.next=7;break}this.props.getExiusObj({KeyValue:"0",writeFile:function(){}},0,!0),this.props.nextInstruction(),e.next=14;break;case 7:if(void 0!=this.id&&void 0!=this.keyValue){e.next=9;break}throw Error("must have a valid id and keyvalue");case 9:return e.next=11,z(R,this.keyValue,{endpoint:"horizon",fname:"Subject_".concat(this.id,".csv"),data:""});case 11:t=e.sent,this.props.getExiusObj(t,this.id,!1),this.props.nextInstruction();case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),this.setState({preflightError:!0,preflightMessage:e.t0.message});case 20:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"getQuery",value:function(){return Object.fromEntries(Object(a.a)(new URLSearchParams(window.location.search)))}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:["ERROR:",this.state.preflightMessage]})}}]),i}(m.a.Component),H=P;function V(e,t){var i=function(){for(var e=0,t=0;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}()*e[t].sd+e[t].mu;return i=Math.max(Math.floor(i),1),i=Math.min(i,99)}var B=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;Object(c.a)(this,i),(n=t.call(this,e)).subtrial=-1,n.key_map=function(e){for(var t={},i=0;i<e.length;i++)t[String(e[i].keyBind)]=i;return t}(n.props.machineVars),n.column_map=function(e){for(var t={},i=0;i<e.length;i++)t[String(i)]={mu:e[i].mu,sd:e[i].sd,valid:!1,discovered:[],machineColor:e[i].color,description:e[i].description};return t}(n.props.machineVars),n.key_press=n.key_press.bind(Object(h.a)(n)),n.advance_subtrial=n.advance_subtrial.bind(Object(h.a)(n)),n.process_choice=n.process_choice.bind(Object(h.a)(n)),n.nextInstruction=n.nextInstruction.bind(Object(h.a)(n)),n.time=new Date,n.data={meta_data:n.props,trial_data:[]},n.state={},n.advance_subtrial();for(var s=0;s<n.props.machineVars.length;s++)n.state[String(s)]={valid:n.column_map[String(s)].valid,discovered:[],description:n.column_map[String(s).description]};return n.state.total_points=e.total_points,n.state.round_points=0,n.nextPress=!0,n.keyup=!0,n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keyup",(function(){return e.keyup=!0})),document.addEventListener("keydown",this.key_press)}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("keydown",this.key_press),document.removeEventListener("keyup",(function(){return e.keyup=!0}))}},{key:"key_press",value:function(e){if(this.nextPress&&this.keyup&&this.subtrial<this.props.gameLength){var t=new Date;String(e.key)in this.key_map&&this.column_map[String(this.key_map[e.key])].valid&&this.process_choice(String(this.key_map[String(e.key)]),t)}}},{key:"process_choice",value:function(e,t){var i=this;this.advance_subtrial();for(var n={},s=null,o=0;o<this.props.machineVars.length;o++)String(o)===e?(s=V(this.column_map,e),this.column_map[String(o)].discovered.push(s)):this.column_map[String(o)].discovered.push("xx"),n[String(o)]={valid:this.column_map[String(o)].valid,discovered:this.column_map[String(o)].discovered};n.last_choice=e,this.subtrial>this.props.force.length&&(n.total_points=this.state.total_points+s,n.round_points=this.state.round_points+s),this.data.trial_data.push({choice:e,value:s,reaction_time:t.getTime()-this.trial_start_time.getTime()}),this.setState(n),this.subtrial>=this.props.gameLength&&setTimeout(this.nextInstruction,1e3),this.nextPress=!1,this.keyup=!1,setTimeout((function(){return i.nextPress=!0}),200)}},{key:"nextInstruction",value:function(){this.props.nextInstruction()}},{key:"advance_subtrial",value:function(){if(this.subtrial+=1,this.subtrial<this.props.force.length)for(var e=0;e<this.props.machineVars.length;e++)this.props.force[this.subtrial].includes(e)?this.column_map[String(e)].valid=!0:this.column_map[String(e)].valid=!1;else for(var t=0;t<this.props.machineVars.length;t++)this.column_map[String(t)].valid=!0}},{key:"render",value:function(){for(var e=[],t=null,i=!1,n=0;n<this.props.machineVars.length;n++)t=this.state[String(n)].discovered.length,i=String(n)===this.state.last_choice,e.push(Object(j.jsxs)("div",{style:{left:"calc(50vw + ".concat(30*n-25,"vh)"),position:"absolute",top:"15vh"},className:"column",children:[Object(j.jsx)("h2",{style:{position:"relative",left:"2vh",fontSize:"4vh"},children:this.column_map[String(n)].description}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(y,{animate:i,backgroundColor:this.column_map[String(n)].machineColor},"Lever "+String(this.props.trial)+";"+String(this.subtrial)),Object(j.jsx)(g,{index:t,valid:this.state[String(n)].valid,values:this.state[String(n)].discovered,gameLength:this.props.gameLength,machineColor:this.column_map[String(n)].machineColor},"Game Machine "+String(this.props.trial)+";"+String(this.subtrial))]})]},n));return this.trial_start_time=new Date,Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:Object(j.jsx)("div",{style:{textAlign:"center",width:"100%",fontSize:"5vh"},children:this.props.trialDescription})}),Object(j.jsx)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:e})]})}}]),i}(m.a.Component),E=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){return Object(c.a)(this,i),t.call(this,e)}return Object(l.a)(i,[{key:"render",value:function(){return Object(j.jsxs)("div",{style:{position:"absolute",width:"38vh",height:"8vh",border:"solid ".concat(this.props.borderColor," .5vh"),fontSize:"3.5vh",textAlign:"center",top:"2vh",left:"calc(50vw + 30vh)"},children:[this.props.description+":",Object(j.jsxs)("div",{style:{display:"flex",flex:"row",justifyContent:"center"},children:[Object(j.jsx)("div",{style:{color:"black"},children:this.props.points+"$"}),Object(j.jsx)("div",{children:"/"}),Object(j.jsx)("div",{children:this.props.totalPoints+"$"})]})]})}}]),i}(m.a.Component),F=(m.a.Component,function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).state={timer:0},n.timerUpdate=n.timerUpdate.bind(Object(h.a)(n)),n.timer=0,n.timerUpdate(),n}return Object(l.a)(i,[{key:"timerUpdate",value:function(){this.timer+=1,this.timer<20&&(setTimeout(this.timerUpdate,2e3),this.setState({timer:this.state.timer+1}))}},{key:"render",value:function(){return Object(j.jsx)(y,{animate:!1,backgroundColor:"blue",delayAnimation:!0,timeDelay:1e3},"lever"+String(this.state.timer))}}]),i}(m.a.Component));var q=function(e,t,i){return[Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",fontSize:"20vh",textAlign:"center"},children:"Gambling Task"},"Header 1")],nextInstructionKey:"Space",nextInstruction:e},1),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"100px",textAlign:"center"},children:"Welcome!"},"Header 21"),Object(j.jsx)("h1",{style:{position:"relative",top:"150px",textAlign:"center"},children:"Thank you for volunteering for this experiment"},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},2),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",fontSize:"4vh"},children:"In this experiment - the gambling task - we would like you to choose between two one-armed bandits (i.e. slot machines) of the sort you might find in a casino."},"Header 4")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},3),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"The one-armed bandits will be represented like this:"},"Header 5"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},51),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},5)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},52),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},6)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},4),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"Everytime you choose to play a particular bandit, it will be pulled like this..."},"Header 6"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},51),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},52)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(F,{}),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},"machine")]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},5),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"absolute",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"... and the payoff will be shown like this. For example, in this case the left bandit has been played and is paying out 77 points"},"Header 7"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red",delayAnimation:!0,timeDelay:1e3},61),Object(j.jsx)(g,{index:0,valid:!1,values:[77],gameLength:5,machineColor:"red",delayNumberReveal:!0,timeDelay:1e3},62)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},63),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},64)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},6),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"Your goal is to maximize the points you get throughout the task. Try your best to get as many points as you can!"},"Header 8"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},71),Object(j.jsx)(g,{index:1,valid:!1,values:[77],gameLength:5,machineColor:"red"},72)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},73),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},74)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},7),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"During one game, each bandit tends to pay out about the same amount of reward on average, but there is variability in the reward on any given play"},"Header 9"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},81),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},82)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},83),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},84)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},8),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"For example, the average reward for the bandit on the right might be 50 points, but on the first play we might see a reward of 52 points because of the variability..."},"Header 10"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},91),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},92)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue",delayAnimation:!0,timeDelay:500},93),Object(j.jsx)(g,{index:0,valid:!1,values:[52],gameLength:5,machineColor:"blue",delayNumberReveal:!0,timeDelay:500},94)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},9),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"...on the second play we might get 56 points"},"Header 11"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},101),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},102)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue",delayAnimation:!0,timeDelay:500},103),Object(j.jsx)(g,{index:1,valid:!1,values:[50,56],gameLength:5,machineColor:"blue",delayNumberReveal:!0,timeDelay:500},104)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},10),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"...if we play a third time on the right, we might get 45 points..."},"Header 12"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},111),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},112)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue",delayAnimation:!0,timeDelay:500},113),Object(j.jsx)(g,{index:2,valid:!1,values:[50,56,45],gameLength:5,machineColor:"blue",delayNumberReveal:!0,timeDelay:500},114)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},110),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"...and so on such that if we were able to play the slot machine on the right 5 times in a row we might see these rewards"},"Header 13"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},121),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},122)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},123),Object(j.jsx)(g,{index:6,valid:!1,values:[50,56,45,39,51,50],gameLength:5,machineColor:"blue"},124)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},120),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"On any trial you can only choose to play one of the two bandits and the number of trials in each game is determined by the height of the bandits."},"Header 14")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},13),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"For example, when the bandits are 10 boxes high, there are 10 trials in that game..."},"Header 15"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"20vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},121),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:10,machineColor:"red"},122)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"20vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},123),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:10,machineColor:"blue"},124)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},120),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"...when the bandits are 5 boxes high, there are only 5 trials in the game."},"Header 16"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},131),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},132)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},133),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},134)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},130),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"The first four trials in each game are instructed trials. These instructed trials will be indicated by a green square inside the box we want you to open"},"Header 17"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},141),Object(j.jsx)(g,{index:0,valid:!0,values:[],gameLength:5,machineColor:"red"},142)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},143),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},144)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},140),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"You must press the corresponding ARROW KEY to choose this option in order to move on to see the reward and advance to the next trial"},"Header 18")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},13),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"For example, if you are instructed to choose the left bandit on the first trial, you will see this below. You must use the LEFT ARROW key to choose this option."},"Header 19"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},151),Object(j.jsx)(g,{index:0,valid:!0,values:[],gameLength:5,machineColor:"red"},152)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},153),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},154)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},150),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"If you are instructed to choose the right bandit on the second trial, you will see this:"},"Header 20"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},161),Object(j.jsx)(g,{index:1,valid:!1,values:[77],gameLength:5,machineColor:"red"},162)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},163),Object(j.jsx)(g,{index:1,valid:!0,values:["xx"],gameLength:5,machineColor:"blue"},164)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},160),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"Note that you do not earn any points for the four instructed trials, but you do learn something about how rewarding each bandit is"},"Header 21"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},171),Object(j.jsx)(g,{index:4,valid:!0,values:[77,"xx",65,67],gameLength:5,machineColor:"red"},172)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},173),Object(j.jsx)(g,{index:4,valid:!0,values:["xx",52,"xx","xx"],gameLength:5,machineColor:"blue"},174)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},170),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"Once the instructed trials are complete, you will make free choices between the two bandits for the rest of the game (in this case 1 trial).\n The free choices are indicated by two green squares inside the bandits you are choosing between."},"Header 22"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},181),Object(j.jsx)(g,{index:4,valid:!0,values:[77,"xx",65,67],gameLength:5,machineColor:"red"},182)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},183),Object(j.jsx)(g,{index:4,valid:!0,values:["xx",52,"xx","xx"],gameLength:5,machineColor:"blue"},184)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},180),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"Your goal on the task's free choice trials is to earn the most points you can. The more you choose the bandit with the higher average reward, the more money you will earn in the task."},"Header 23"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},191),Object(j.jsx)(g,{index:4,valid:!0,values:[77,"xx",65,67],gameLength:5,machineColor:"red"},192)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},193),Object(j.jsx)(g,{index:4,valid:!0,values:["xx",52,"xx","xx"],gameLength:5,machineColor:"blue"},194)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},190),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"Let's try a few practice rounds to check your understanding so far."},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},20),Object(j.jsx)(B,{trial:0,gameLength:10,machineVars:[{mu:60,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:20,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[0],[1],[1],[1]],trialDescription:"Example Trial 1",total_points:0,nextInstruction:e},"Practice trial 1"),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"In this practice trial, you should have found that the left, red bandit gave out the higher reward on average. Lets try another example."},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t,previousJump:2},21),Object(j.jsx)(B,{trial:0,gameLength:10,machineVars:[{mu:30,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:90,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[1],[0],[1],[0]],trialDescription:"Example Trial 2",total_points:0,nextInstruction:e},"Practice trial 2"),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"In this practice trial, you should have found that the right, blue bandit gave out the higher reward on average."},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t,previousJump:2},22),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"The points you earn in a single game is equal to the average of all the points you earn through your choices within that game, not including the instructed choices. For example if you played a bandits 5 times with and were shown the following points, you would earn a total of 59 points for that game."},"Header 23"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw - 25vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},23),Object(j.jsx)(g,{index:6,valid:!1,values:["xx",43,31,"xx","xx"],gameLength:5,machineColor:"red"},232)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"30vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},233),Object(j.jsx)(g,{index:6,valid:!1,values:[50,"xx","xx",48,59],gameLength:5,machineColor:"blue"},234)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},230),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"It is important to note that you DO NOT need to to wait for the arm pull animation to finish before making your next decision."},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},30),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"The total points earned across the entire game will be shown in a display box in the right side of your screen, for example if you had a total of 200 points you would see a box that looks like this:"},"Header 21"),Object(j.jsx)("h1",{style:{justifyContent:"center",textAlign:"center",position:"relative",width:"100%",display:"flex",top:"200px"},children:Object(j.jsx)(S,{points:"200",totalPoints:i,width:"300px",height:"75px",borderColor:"black",description:"Total Money Earned"})})],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},24),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"Let's try a couple of practice trials of the complete game:"},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},25),Object(j.jsx)("div",{children:"placeholder for instruction trial"},1),Object(j.jsx)("div",{children:"placeholder for instruction trial"},2),Object(j.jsx)("div",{children:"placeholder for instruction trial"},3),Object(j.jsx)("div",{children:"placeholder for instruction trial"},4),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"The game will go until you have done 80 trials or you have reached 4000$. Since you earn higher points by choosing the more profitable bandit on each trial, if you perform well you will be able to finish faster!"},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t,previousJump:5},29),Object(j.jsx)(C,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"25px",marginRight:"25px",height:"20vh",fontSize:"4vh"},children:"Good luck! To begin the task, press Space. If you wish to review any of the instructions, press b."},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},30)]},J=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).nextInstruction=n.nextInstruction.bind(Object(h.a)(n)),n.previousInstruction=n.previousInstruction.bind(Object(h.a)(n)),n}return Object(l.a)(i,[{key:"nextInstruction",value:function(){this.props.nextInstruction()}},{key:"previousInstruction",value:function(){this.props.previousInstruction(this.props.previousJump?this.props.previousJump:1)}},{key:"render",value:function(){var e=[];return null!=this.props.previousInstruction&&e.push(Object(j.jsx)("button",{style:{width:"75px",height:"100%",left:"0px",position:"absolute",top:"0px"},onClick:this.previousInstruction,children:Object(j.jsx)("div",{style:{textAlign:"center",width:"50px",height:"50px",borderRadius:"50%",border:"solid black 2px"},children:Object(j.jsx)("h1",{style:{top:"-7.5px",position:"relative",color:"black"},children:"<"})})})),null!=this.props.nextInstruction&&e.push(Object(j.jsx)("button",{style:{width:"75px",height:"100%",left:"calc(100vw - 75px)",position:"absolute",top:"0px",borderRadius:"0%"},onClick:this.nextInstruction,children:Object(j.jsx)("div",{style:{textAlign:"center",width:"50px",height:"50px",borderRadius:"50%",border:"solid black 2px"},children:Object(j.jsx)("h1",{style:{top:"-7.5px",position:"relative",color:"black"},children:">"})})})),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{position:"absolute",textAlign:"center",width:"100%"},children:this.props.divs}),e]})}}]),i}(m.a.Component);function G(e,t){var i=function(){for(var e=0,t=0;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}()*e[t].sd+e[t].mu;return i=Math.max(Math.floor(i),1),i=Math.min(i,99)}var U=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;Object(c.a)(this,i),(n=t.call(this,e)).subtrial=-1,n.column_map=function(e){for(var t={},i=0;i<e.length;i++)t[String(i)]={mu:e[i].mu,sd:e[i].sd,valid:!1,discovered:[],machineColor:e[i].color,description:e[i].description};return t}(n.props.machineVars),n.advance_subtrial=n.advance_subtrial.bind(Object(h.a)(n)),n.process_choice=n.process_choice.bind(Object(h.a)(n)),n.nextInstruction=n.nextInstruction.bind(Object(h.a)(n)),n.button1=n.button1.bind(Object(h.a)(n)),n.button2=n.button2.bind(Object(h.a)(n)),n.buttonsPress=n.buttonPress.bind(Object(h.a)(n)),n.time=new Date,n.data={meta_data:n.props,trial_data:[]},n.state={},n.advance_subtrial();for(var s=0;s<n.props.machineVars.length;s++)n.state[String(s)]={valid:n.column_map[String(s)].valid,discovered:[],description:n.column_map[String(s).description]};return n.state.total_points=e.total_points,n.state.round_points=0,n}return Object(l.a)(i,[{key:"button1",value:function(e){this.buttonPress("0")}},{key:"button2",value:function(e){this.buttonPress("1")}},{key:"buttonPress",value:function(e){if(this.subtrial<this.props.gameLength){var t=new Date;this.column_map[e].valid&&this.process_choice(e,t)}}},{key:"process_choice",value:function(e,t){var i=this;this.advance_subtrial();for(var n={},s=null,o=0;o<this.props.machineVars.length;o++)String(o)===e?(s=G(this.column_map,e),this.column_map[String(o)].discovered.push(s)):this.column_map[String(o)].discovered.push("xx"),n[String(o)]={valid:this.column_map[String(o)].valid,discovered:this.column_map[String(o)].discovered};n.last_choice=e,this.subtrial>this.props.force.length&&(n.total_points=this.state.total_points+s,n.round_points=this.state.round_points+s),this.data.trial_data.push({choice:e,value:s,reaction_time:t.getTime()-this.trial_start_time.getTime()}),this.setState(n),this.subtrial>=this.props.gameLength&&setTimeout(this.nextInstruction,1e3),this.nextPress=!1,this.keyup=!1,setTimeout((function(){return i.nextPress=!0}),200)}},{key:"nextInstruction",value:function(){this.props.nextInstruction()}},{key:"advance_subtrial",value:function(){if(this.subtrial+=1,this.subtrial<this.props.force.length)for(var e=0;e<this.props.machineVars.length;e++)this.props.force[this.subtrial].includes(e)?this.column_map[String(e)].valid=!0:this.column_map[String(e)].valid=!1;else for(var t=0;t<this.props.machineVars.length;t++)this.column_map[String(t)].valid=!0}},{key:"render",value:function(){for(var e=[],t=null,i=!1,n=0;n<this.props.machineVars.length;n++)t=this.state[String(n)].discovered.length,i=String(n)==this.state.last_choice,console.log(i),console.log(this.subtrial),0==n?e.push(Object(j.jsxs)("div",{style:{left:"calc(50vw + ".concat(30*n-25,"vh)"),position:"absolute",top:"10vh"},className:"column",children:[Object(j.jsx)("h2",{style:{position:"relative",left:"2vh",fontSize:"4vh"},children:this.column_map[String(n)].description}),Object(j.jsx)("button",{onClick:this.button1,style:{backgroundColor:"transparent",outline:"none",border:"none"},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(y,{animate:i,backgroundColor:this.column_map[String(n)].machineColor},"Lever "+String(this.props.trial)+";"+String(this.subtrial)),Object(j.jsx)(g,{index:t,valid:this.state[String(n)].valid,values:this.state[String(n)].discovered,gameLength:this.props.gameLength,machineColor:this.column_map[String(n)].machineColor},"Game Machine "+String(this.props.trial)+";"+String(this.subtrial))]})})]},n)):e.push(Object(j.jsxs)("div",{style:{left:"calc(50vw + ".concat(30*n-25,"vh)"),position:"absolute",top:"10vh"},className:"column",children:[Object(j.jsx)("h2",{style:{position:"relative",left:"2vh",fontSize:"4vh"},children:this.column_map[String(n)].description}),Object(j.jsx)("button",{onClick:this.button2,style:{backgroundColor:"transparent",outline:"none",border:"none"},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(y,{animate:i,backgroundColor:this.column_map[String(n)].machineColor},"Lever "+String(this.props.trial)+";"+String(this.subtrial)),Object(j.jsx)(g,{index:t,valid:this.state[String(n)].valid,values:this.state[String(n)].discovered,gameLength:this.props.gameLength,machineColor:this.column_map[String(n)].machineColor},"Game Machine "+String(this.props.trial)+";"+String(this.subtrial))]})})]},n));return this.trial_start_time=new Date,Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:Object(j.jsx)("div",{style:{textAlign:"center",width:"100%",fontSize:"5vh"},children:this.props.trialDescription})}),Object(j.jsx)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:e})]})}}]),i}(m.a.Component);var W=function(e,t,i){return[Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{left:"75px",textAlign:"center",position:"absolute",top:"20vh",fontSize:"min(15vh,15vw)",width:"calc(100% - 150px)"},children:"Gambling Task"},"Header 1"),Object(j.jsx)("h1",{style:{left:"75px",textAlign:"center",position:"absolute",top:"80vh",fontSize:"min(5vh,5vw)",width:"calc(100% - 150px)"},children:"Press the right side of your screen to start the experiment"},"Support 1")],nextInstruction:e},1),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"20vh",textAlign:"center"},children:"Welcome!"},"Header 21"),Object(j.jsx)("h1",{style:{position:"relative",top:"35vh",textAlign:"center",margin:"100px"},children:"Thank you for volunteering for this experiment"},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},2),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",margin:"100px",fontSize:"3vh"},children:"In this experiment - the gambling task - we would like you to choose between two one-armed bandits (i.e. slot machines) of the sort you might find in a casino."},"Header 4")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},3),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"200px",marginRight:"200px",height:"100px",fontSize:"3vh"},children:"The one-armed bandits will be represented like this:"},"Header 5"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},51),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},5)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},52),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},6)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},4),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"Everytime you choose to play a particular bandit, it will be pulled like this..."},"Header 6"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},51),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},52)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(F,{}),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},"machine")]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},5),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"... and the payoff will be shown like this. For example, in this case the left bandit has been played and is paying out 77 points"},"Header 7"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red",delayAnimation:!0,timeDelay:1e3},61),Object(j.jsx)(g,{index:0,valid:!1,values:[77],gameLength:5,machineColor:"red",delayNumberReveal:!0,timeDelay:1e3},62)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},63),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},64)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},6),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"Your goal is to maximize the points you get throughout the task. Try your best to get as many points as you can!"},"Header 8"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},71),Object(j.jsx)(g,{index:1,valid:!1,values:[77],gameLength:5,machineColor:"red"},72)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},73),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},74)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},7),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"During one game, each bandit tends to pay out about the same amount of reward on average, but there is variability in the reward on any given play"},"Header 9"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},81),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},82)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},83),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},84)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},8),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"For example, the average reward for the bandit on the right might be 50 points, but on the first play we might see a reward of 52 points because of the variability..."},"Header 10"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},91),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},92)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue",delayAnimation:!0,timeDelay:500},93),Object(j.jsx)(g,{index:0,valid:!1,values:[52],gameLength:5,machineColor:"blue",delayNumberReveal:!0,timeDelay:500},94)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},9),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"...on the second play we might get 56 points"},"Header 11"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},101),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},102)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue",delayAnimation:!0,timeDelay:500},103),Object(j.jsx)(g,{index:1,valid:!1,values:[50,56],gameLength:5,machineColor:"blue",delayNumberReveal:!0,timeDelay:500},104)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},10),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"...if we play a third time on the right, we might get 45 points..."},"Header 12"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},111),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},112)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue",delayAnimation:!0,timeDelay:500},113),Object(j.jsx)(g,{index:2,valid:!1,values:[50,56,45],gameLength:5,machineColor:"blue",delayNumberReveal:!0,timeDelay:500},114)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},110),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"...and so on such that if we were able to play the slot machine on the right 5 times in a row we might see these rewards"},"Header 13"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},121),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},122)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},123),Object(j.jsx)(g,{index:6,valid:!1,values:[50,56,45,39,51,50],gameLength:5,machineColor:"blue"},124)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},120),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"On any trial you can only choose to play one of the two bandits and the number of trials in each game is determined by the height of the bandits."},"Header 14")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},13),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"For example, when the bandits are 10 boxes high, there are 10 trials in that game..."},"Header 15"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"25vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},121),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:10,machineColor:"red"},122)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"25vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},123),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:10,machineColor:"blue"},124)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},120),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"...when the bandits are 5 boxes high, there are only 5 trials in the game."},"Header 16"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},131),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},132)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},133),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},134)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},130),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"The first four trials in each game are instructed trials. These instructed trials will be indicated by a green square inside the box we want you to open"},"Header 17"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},141),Object(j.jsx)(g,{index:0,valid:!0,values:[],gameLength:5,machineColor:"red"},142)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},143),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},144)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},140),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"You must press the corresponding bandit to choose it. Then you will move on to see the reward and advance to the next trial"},"Header 18")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},13),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"For example, if you are instructed to choose the left bandit on the first trial, you will see this below. You must use the press the left bandit to choose this option."},"Header 19"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},151),Object(j.jsx)(g,{index:0,valid:!0,values:[],gameLength:5,machineColor:"red"},152)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},153),Object(j.jsx)(g,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},154)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},150),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"If you are instructed to choose the right bandit on the second trial, you will see this:"},"Header 20"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},161),Object(j.jsx)(g,{index:1,valid:!1,values:[77],gameLength:5,machineColor:"red"},162)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},163),Object(j.jsx)(g,{index:1,valid:!0,values:["xx"],gameLength:5,machineColor:"blue"},164)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},160),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"Note that you do not earn any points for the four instructed trials, but you do learn something about how rewarding each bandit is"},"Header 21"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},171),Object(j.jsx)(g,{index:4,valid:!0,values:[77,"xx",65,67],gameLength:5,machineColor:"red"},172)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},173),Object(j.jsx)(g,{index:4,valid:!0,values:["xx",52,"xx","xx"],gameLength:5,machineColor:"blue"},174)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},170),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"Once the instructed trials are complete, you will make free choices between the two bandits for the rest of the game (in this case 1 trial).\n The free choices are indicated by two green squares inside the bandits you are choosing between."},"Header 22"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},181),Object(j.jsx)(g,{index:4,valid:!0,values:[77,"xx",65,67],gameLength:5,machineColor:"red"},182)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},183),Object(j.jsx)(g,{index:4,valid:!0,values:["xx",52,"xx","xx"],gameLength:5,machineColor:"blue"},184)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},180),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"Your goal on the task's free choice trials is to earn the most points you can. The more you choose the bandit with the higher average reward, the more money you will earn in the task."},"Header 23"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},191),Object(j.jsx)(g,{index:4,valid:!0,values:[77,"xx",65,67],gameLength:5,machineColor:"red"},192)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"40vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},193),Object(j.jsx)(g,{index:4,valid:!0,values:["xx",52,"xx","xx"],gameLength:5,machineColor:"blue"},194)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},190),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"Let's try a few practice rounds to check your understanding so far."},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},20),Object(j.jsx)(U,{trial:0,gameLength:10,machineVars:[{mu:60,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:20,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[0],[1],[1],[1]],trialDescription:"Example Trial 1",total_points:0,nextInstruction:e},"Practice trial 1"),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"In this practice trial, you should have found that the left, red bandit gave out the higher reward on average. Lets try another example."},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t,previousJump:2},21),Object(j.jsx)(U,{trial:0,gameLength:10,machineVars:[{mu:30,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:90,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[1],[0],[1],[0]],trialDescription:"Example Trial 2",total_points:0,nextInstruction:e},"Practice trial 2"),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"In this practice trial, you should have found that the right, blue bandit gave out the higher reward on average."},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t,previousJump:2},22),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"The points you earn in a single game is equal to the average of all the points you earn through your choices within that game, not including the instructed choices. For example if you played the bandits 5 times and were shown the following points, you would earn a total of 59 points for that game."},"Header 23"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"45vh",left:"calc(50vw - 23vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"red"},23),Object(j.jsx)(g,{index:6,valid:!1,values:["xx",43,31,"xx","xx"],gameLength:5,machineColor:"red"},232)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"45vh",left:"calc(50vw + 5vh)"},children:[Object(j.jsx)(y,{animate:!1,backgroundColor:"blue"},233),Object(j.jsx)(g,{index:6,valid:!1,values:[50,"xx","xx",48,59],gameLength:5,machineColor:"blue"},234)]})})]})],nextInstructionKey:"Space",nextInstruction:e,previousInstructionKey:"b",previousInstruction:t},230),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"It is important to note that you DO NOT need to to wait for the arm pull animation to finish before making your next decision."},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},30),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"The total points earned across the entire game will be shown in a display box in the right side of your screen, for example if you had a total of 200 points you would see a box that looks like this:"},"Header 21"),Object(j.jsx)("h1",{style:{justifyContent:"center",textAlign:"center",position:"relative",width:"100%",display:"flex",top:"200px"},children:Object(j.jsx)(S,{points:"200",totalPoints:i,width:"300px",height:"75px",borderColor:"black",description:"Total Money Earned"})})],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},24),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"Let's try a couple of practice trials of the complete game:"},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},25),Object(j.jsx)("div",{children:"placeholder for instruction trial"},1),Object(j.jsx)("div",{children:"placeholder for instruction trial"},2),Object(j.jsx)("div",{children:"placeholder for instruction trial"},3),Object(j.jsx)("div",{children:"placeholder for instruction trial"},4),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"The game will go until you have done 80 trials or you have reached 4000$. Since you earn higher points by choosing the more profitable bandit on each trial, if you perform well you will be able to finish faster!"},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t,previousJump:5},29),Object(j.jsx)(J,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"2vh",textAlign:"center",marginLeft:"100px",marginRight:"100px",height:"100px",fontSize:"3vh"},children:"Good luck! To begin the task, press the right arrow. If you wish to review any of the instructions, press the left arrow."},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:e,previousInstruction:t},30)]},Y=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).isMobile=n.isMobile.bind(Object(h.a)(n)),n.mobile=n.isMobile(),n.orientation=n.orientation.bind(Object(h.a)(n)),n.orientation(),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.detectListener=window.addEventListener("resize",this.orientation)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.detectListener)}},{key:"orientation",value:function(){if(window.innerWidth>window.innerHeight)var e=!1;else e=!0;e&&this.mobile&&this.props.setDevice(!0),this.mobile||this.props.setDevice(!1)}},{key:"isMobile",value:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&"ontouchend"in document}},{key:"render",value:function(){return this.mobile?Object(j.jsx)("div",{children:"We have detected that you are on a mobile device. For the best viewing experience, please rotate your device to portait mode."}):Object(j.jsx)("div",{})}}]),i}(m.a.Component),$=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;Object(c.a)(this,i),(n=t.call(this,e)).nextTrial=n.nextTrial.bind(Object(h.a)(n)),n.nextInstruction=n.nextInstruction.bind(Object(h.a)(n)),n.previousInstruction=n.previousInstruction.bind(Object(h.a)(n)),n.getExiusObj=n.getExiusObj.bind(Object(h.a)(n)),n.sendDataToExius=n.sendDataToExius.bind(Object(h.a)(n)),n.nextInstructionTrial=n.nextInstructionTrial.bind(Object(h.a)(n)),n.mobileInstructions=n.mobileInstructions.bind(Object(h.a)(n)),n.setDevice=n.setDevice.bind(Object(h.a)(n)),n.gameData=[],n.csvData="trial,game_length,bandit_force,sd,mu_0,mu_1,";for(var s=0;s<10;s++)n.csvData+="subtrial_".concat(s,"_choice, subtrial_").concat(s,"_rt, subtrial_").concat(s,"_value,");n.csvData=n.csvData.substring(0,n.csvData.length-1),n.csvData+="\n",n.totalPoints=0,n.terminationPoints=4e3,n.state={currentTrial:79,instructionNumber:0,isFullScreen:!1,instructionPoints:0,instructionSubtrial:0,mobileCheck:!1,mobile:!1,instructions:[]},n.writeKey=null,n.id=null,n.instructionVars=[{gameLength:10,machineVars:[{mu:20,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:10,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[0],[1],[1],[1]],trialDescription:"Instruction Trial 1 of 4",addedMetaData:{gameLength:10,forcedBandit:[["main"],["other"],["other"],["other"]],mainBandit:"0",mu:20,sd:8,deltaMu:-10}},{gameLength:5,machineVars:[{mu:60,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:40,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[0],[1],[1],[0]],trialDescription:"Instruction Trial 2 of 4",addedMetaData:{gameLength:5,forcedBandit:[["other"],["main"],["main"],["other"]],mainBandit:"1",mu:40,sd:8,deltaMu:20}},{gameLength:5,machineVars:[{mu:60,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:45,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[1],[1],[0],[1]],trialDescription:"Instruction Trial 3 of 4",addedMetaData:{gameLength:5,forcedBandit:[["main"],["other"],["main"],["other"]],mainBandit:"0",mu:60,sd:8,deltaMu:-15}},{gameLength:10,machineVars:[{mu:70,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:40,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[0],[1],[0],[1]],trialDescription:"Instruction Trial 4 of 4",addedMetaData:{gameLength:10,forcedBandit:[["other"],["main"],["other"],["main"]],mainBandit:"1",mu:40,sd:8,deltaMu:30}}];var o=T();return n.game=o,n}return Object(l.a)(i,[{key:"nextInstructionTrial",value:function(e,t){console.log("Next Instruction Trial");for(var i=e.meta_data,n=(e.meta_data.addedMetaData,{trial:i.trial,gameLength:i.gameLength,banditForce:i.force,sd:8,mu0:i.machineVars[0].mu,mu1:i.machineVars[1].mu}),s=0,o=Object(a.a)(Array(e.trial_data.length).keys());s<o.length;s++){var r=o[s];n["subtrial_".concat(r,"_choice")]=e.trial_data[r].choice,n["subtrial_".concat(r,"_rt")]=e.trial_data[r].reaction_time,n["subtrial_".concat(r,"_value")]=e.trial_data[r].value}this.gameData.push(n),this.csvData+=Q(n),this.sendDataToExius(this.csvData);var c=Math.floor(t/(e.trial_data.length-4));this.setState({instructionNumber:this.state.instructionNumber+1,instructionPoints:this.state.instructionPoints+c})}},{key:"nextTrial",value:function(e,t){for(var i=e.meta_data,n={trial:i.trial,gameLength:i.gameLength,banditForce:i.force,sd:8,mu0:i.machineVars[0].mu,mu1:i.machineVars[1].mu},s=0,o=Object(a.a)(Array(e.trial_data.length).keys());s<o.length;s++){var r=o[s];n["subtrial_".concat(r,"_choice")]=e.trial_data[r].choice,n["subtrial_".concat(r,"_rt")]=e.trial_data[r].reaction_time,n["subtrial_".concat(r,"_value")]=e.trial_data[r].value}this.gameData.push(n),this.csvData+=Q(n),this.sendDataToExius(this.csvData),this.totalPoints+=Math.floor(t/(e.trial_data.length-4)),console.log("next Trial"),this.totalPoints>this.terminationPoints?this.setState({currentTrial:this.game.length}):this.setState({currentTrial:this.state.currentTrial+1})}},{key:"getExiusObj",value:function(e,t,i){this.exius=e,this.id=t,this.archive=i}},{key:"desktopInstructions",value:function(){var e=q(this.nextInstruction,this.previousInstruction,this.terminationPoints);return[Object(j.jsx)(H,{getExiusObj:this.getExiusObj,nextInstruction:this.nextInstruction},-1),Object(j.jsx)(_,{docVar:document.documentElement,nextInstruction:this.nextInstruction},0)].concat(Object(a.a)(e))}},{key:"mobileInstructions",value:function(){var e=W(this.nextInstruction,this.previousInstruction,this.terminationPoints);return[Object(j.jsx)(H,{getExiusObj:this.getExiusObj,nextInstruction:this.nextInstruction},-2),Object(j.jsx)(_,{docVar:document.documentElement,nextInstruction:this.nextInstruction},0)].concat(Object(a.a)(e))}},{key:"sendDataToExius",value:function(){var e=Object(r.a)(p.a.mark((function e(t){var i,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),i=Date.now(),e.next=5,this.exius.writeFile("horizon","Subject_".concat(this.id,".json"),t);case 5:n=Date.now(),console.log(i-n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),console.log("data send fail");case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"nextInstruction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setState({instructionNumber:this.state.instructionNumber+e})}},{key:"previousInstruction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setState({instructionNumber:this.state.instructionNumber-e})}},{key:"setDevice",value:function(e){e?this.setState({mobile:e,mobileCheck:!0,instructions:this.mobileInstructions()}):this.setState({mobile:e,mobileCheck:!0,instructions:this.desktopInstructions()})}},{key:"render",value:function(){if(!this.state.mobileCheck)return Object(j.jsx)(Y,{setDevice:this.setDevice});if(this.state.instructionNumber<this.state.instructions.length){var e=33;return e<=this.state.instructionNumber&&this.state.instructionNumber<=36?this.state.mobile?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{position:"absolute"},children:Object(j.jsx)(S,{points:this.state.instructionPoints,borderColor:"black",description:"Total Money Earned",totalPoints:this.terminationPoints})}),Object(j.jsx)(k,Object(o.a)(Object(o.a)({trial:"instruction ".concat(this.state.instructionNumber-e)},this.instructionVars[this.state.instructionNumber-e]),{},{total_points:this.state.instructionPoints,nextTrial:this.nextInstructionTrial,terminationPoints:this.terminationPoints}),"instructionTrial ".concat(this.state.instructionNumber-e))]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{position:"absolute"},children:Object(j.jsx)(E,{points:this.state.instructionPoints,borderColor:"black",description:"Total Money Earned",totalPoints:this.terminationPoints})}),Object(j.jsx)(w,Object(o.a)(Object(o.a)({trial:"instruction ".concat(this.state.instructionNumber-e)},this.instructionVars[this.state.instructionNumber-e]),{},{total_points:this.state.instructionPoints,nextTrial:this.nextInstructionTrial,terminationPoints:this.terminationPoints}),"instructionTrial ".concat(this.state.instructionNumber-e))]}):this.state.instructions[this.state.instructionNumber]}return this.state.currentTrial<this.game.length?this.state.mobile?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{position:"absolute"},children:Object(j.jsx)(S,{points:this.totalPoints,borderColor:"black",description:"Total Money Earned",totalPoints:this.terminationPoints})}),Object(j.jsx)(k,Object(o.a)(Object(o.a)({trial:this.state.currentTrial},this.game[this.state.currentTrial]),{},{total_points:this.totalPoints,nextTrial:this.nextTrial,terminationPoints:this.terminationPoints}),"Trial "+String(this.state.currentTrial))]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{position:"absolute"},children:Object(j.jsx)(E,{points:this.totalPoints,width:"300px",height:"75px",borderColor:"black",description:"Total Money Earned",totalPoints:this.terminationPoints})}),Object(j.jsx)(w,Object(o.a)(Object(o.a)({trial:this.state.currentTrial},this.game[this.state.currentTrial]),{},{total_points:this.totalPoints,nextTrial:this.nextTrial,terminationPoints:this.terminationPoints}),"Trial "+String(this.state.currentTrial))]}):Object(j.jsx)(N,{money:this.totalPoints,data:this.csvData,archive:this.archive})}}]),i}(m.a.Component);function Q(e){var t=JSON.parse(JSON.stringify(e)),i="";console.log(t);for(var n=0,s=Object.values(t);n<s.length;n++){var o=s[n];i+='"'.concat(o,'",')}return 21==t.length&&(i+=",,,,,,,,,,,,,,,"),i.substring(0,i.length-1)+"\n"}var X=$;s.a.render(Object(j.jsx)(X,{}),document.getElementById("root"))},9:function(e,t,i){}},[[31,1,2]]]);
//# sourceMappingURL=main.bde59c65.chunk.js.map